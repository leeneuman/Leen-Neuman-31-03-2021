(this["webpackJsonpherolo-weather"]=this["webpackJsonpherolo-weather"]||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(15),i=n.n(r),o=(n(41),n(42),n(11)),s=n(4),l=function(e){return{type:"UPDATE_CITY",payload:{city:e}}},u=n(1),d=function(e){var t=e.label,n=e.onClick;return Object(u.jsx)("button",{className:"dropdown-item",type:"button",onClick:n,children:t})};var j=function(){var e=Object(s.b)(),t=function(t){e({type:"UPDATE_UNITS",payload:{units:t}})};return Object(u.jsxs)("div",{className:"dropdown",children:[Object(u.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenu2","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Units"}),Object(u.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenu2",children:[Object(u.jsx)(d,{label:"Metric",onClick:function(){return t("Metric")}}),Object(u.jsx)(d,{label:"Imperial",onClick:function(){return t("Imperial")}})]})]})},b=function(e){var t=e.label,n=e.link;return Object(u.jsx)(o.c,{exact:!0,to:n,className:"nav-link text-white",activeStyle:{fontWeight:"bold"},children:t})};var f=function(){return Object(u.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(u.jsx)(o.b,{className:"navbar-brand",to:"/",children:"Herolo Weather"}),Object(u.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})}),Object(u.jsxs)("div",{className:"collapse navbar-collapse justify-content-end",id:"navbarNav",children:[Object(u.jsx)(b,{label:"Home",link:"/"}),Object(u.jsx)(b,{label:"Favorites",link:"/favorites"}),Object(u.jsx)(j,{})]})]})},h=n(3),O=n(10),x=n(21),p=n.n(x),v="https://dataservice.accuweather.com",m="71dkrhjDoZ0axL20sdjoCwEwC5H4668p",y=function(e){return p.a.get("".concat(v,"/locations/v1/cities/autocomplete?apikey=").concat(m,"&q=").concat(e),{headers:{Accept:"application/json"}})},g=function(e){return p.a.get("".concat(v,"/currentconditions/v1/").concat(e,"?apikey=").concat(m),{headers:{Accept:"application/json"}})},w=n(36),N=n.n(w);var T=function(){var e=Object(s.b)(),t=Object(c.useState)(""),n=Object(O.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)([]),o=Object(O.a)(i,2),d=o[0],j=o[1];return Object(c.useEffect)((function(){a.length>0&&/^[A-Za-z -]*$/.test(a)&&y(a).then((function(e){return j(e.data)})).catch((function(e){return console.log(e)}))}),[a]),Object(u.jsx)(N.a,{wrapperStyle:{width:"50%",zIndex:"1"},inputProps:{style:{width:"100%",marginTop:"3rem"}},getItemValue:function(e){return e.LocalizedName},items:d,renderItem:function(e,t){return Object(u.jsx)("div",{style:{background:t?"lightgray":"white"},children:"".concat(e.LocalizedName,", ").concat(e.Country.LocalizedName)},e.Key)},value:a,onChange:function(e){r(e.target.value)},onSelect:function(t){var n=d.find((function(e){return e.LocalizedName===t}));e(l(n)),j([]),r("")}})},E=n(14),k=function(e,t){window.localStorage.setItem(e,JSON.stringify(t))},S=function(e){return JSON.parse(window.localStorage.getItem(e))||[]};var C=function(e){var t=e.type,n=e.data,c=Object(s.c)((function(e){return e.units}));if(!t||0===n.length)return null;switch(t){case"current":return"Metric"===c?Object(u.jsxs)("span",{children:[n.Temperature.Metric.Value," \u2103"]}):Object(u.jsxs)("span",{children:[n.Temperature.Imperial.Value," \u2109"]});case"forcast-lo":return"Metric"===c?Object(u.jsxs)("span",{children:[n.Temperature.Minimum.Value," \u2103"]}):Object(u.jsxs)("span",{children:[n.Temperature.Minimum.Value," \u2109"]});case"forcast-hi":return"Metric"===c?Object(u.jsxs)("span",{children:[n.Temperature.Maximum.Value," \u2103"]}):Object(u.jsxs)("span",{children:[n.Temperature.Maximum.Value," \u2109"]});default:return null}};var I=function(e){var t=e.city,n=Object(s.b)(),a=Object(s.c)((function(e){return e.favorites})),r=Object(c.useState)([]),i=Object(O.a)(r,2),o=i[0],l=i[1],d=t.Key,j=function(e,t){return t&&t.filter((function(t){return t.Key===e})).length>0}(d,a);return Object(c.useEffect)((function(){d&&g(d).then((function(e){return l(e.data[0])})).catch((function(e){return alert(e)}))}),[d]),d&&0!==o.length?Object(u.jsxs)("div",{className:"d-flex flex-column align-items-center p-4 w-100",children:[Object(u.jsxs)("div",{className:"d-flex flex-row justify-content-between w-100",children:[Object(u.jsxs)("div",{className:"d-flex flex-column",children:[Object(u.jsx)("h5",{children:"".concat(t.LocalizedName,", ").concat(t.Country.LocalizedName)}),Object(u.jsx)(C,{type:"current",data:o})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{className:"btn btn-light",onClick:j?function(){n({type:"REMOVE_FAVORITE",payload:{key:d}}),k("favorites",Object(E.a)(a.filter((function(e){return e.Key!==d}))))}:function(){n(function(e){return{type:"ADD_FAVORITE",payload:{city:e}}}(t)),k("favorites",[].concat(Object(E.a)(a),[t]))},children:j?"Remove from favorites":"Add to favorites"}),j?Object(u.jsx)("i",{className:"fas fa-heart fa-lg p-2"}):Object(u.jsx)("i",{className:"far fa-heart fa-lg p-2"})]})]}),Object(u.jsx)("h3",{children:o.WeatherText})]}):null},_=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var D=function(e){var t=e.day,n=new Date(t.Date);return Object(u.jsxs)("div",{className:"d-flex flex-column align-items-center card p-4 mt-2",style:{minWidth:"150px"},children:[Object(u.jsx)("h5",{children:_[n.getDay()]}),Object(u.jsxs)("div",{children:["Lo: ",Object(u.jsx)(C,{type:"forcast-lo",data:t})]}),Object(u.jsxs)("div",{children:["Hi: ",Object(u.jsx)(C,{type:"forcast-hi",data:t})]})]})};var M=function(e){var t=e.cityKey,n=Object(s.c)((function(e){return e.units})),a=Object(c.useState)([]),r=Object(O.a)(a,2),i=r[0],o=r[1],l=function(){return function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return p.a.get("".concat(v,"/forecasts/v1/daily/5day/").concat(e,"?apikey=").concat(m,"&metric=").concat(t),{headers:{Accept:"application/json"}})}(t,"Metric"===n).then((function(e){return o(e.data)})).catch((function(e){return alert(e)}))};return Object(c.useEffect)((function(){t&&l()}),[t,n]),t&&0!==i.length?Object(u.jsx)("div",{className:"ForcastsContainer d-flex flex-row justify-content-between flex-wrap p-4 w-100",children:i.DailyForecasts.map((function(e){return Object(u.jsx)(D,{day:e},e.EpochDate)}))}):null};var A=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.selectedCity})),n=t.Key;return Object(c.useEffect)((function(){n||y("tel aviv").then((function(t){return e(l(t.data[0]))})).catch((function(e){return alert(e)}))}),[n]),0!==t.length||n?Object(u.jsxs)("div",{className:"d-flex flex-column align-items-center p-4 mt-5 w-100 card",style:{background:"rgba(100, 100, 100, 0.1)"},children:[Object(u.jsx)(I,{city:t}),Object(u.jsx)(M,{cityKey:n})]}):null};var V=function(){return Object(u.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(u.jsx)(T,{}),Object(u.jsx)(A,{})]})};var F=function(e){var t=e.city,n=Object(s.b)(),a=t.Key,r=Object(c.useState)([]),i=Object(O.a)(r,2),d=i[0],j=i[1];return Object(c.useEffect)((function(){a&&g(a).then((function(e){return j(e.data[0])})).catch((function(e){return alert(e)}))}),[a]),a&&0!==d.length?Object(u.jsxs)(o.b,{className:"d-flex flex-column align-items-center card p-4 mt-4 mr-4 justify-content-between text-decoration-none text-reset text-center",style:{height:"200px",width:"200px"},onClick:function(){n(l(t))},to:"/",children:[Object(u.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(u.jsx)("h5",{children:t.LocalizedName}),Object(u.jsx)(C,{type:"current",data:d})]}),Object(u.jsx)("h4",{children:d.WeatherText})]}):null};var L=function(){var e=Object(s.c)((function(e){return e.favorites}));return 0===e.length?Object(u.jsx)("h2",{className:"text-center mt-5 text-white",children:"No favorites yet..."}):Object(u.jsx)("div",{className:"FavoritesContainer d-flex flex-row flex-wrap p-4 w-100",children:e.map((function(e){return Object(u.jsx)(F,{city:e},e.Key)}))})};var K=function(){return Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)(h.d,{children:[Object(u.jsx)(h.b,{exact:!0,path:"/",component:V}),Object(u.jsx)(h.b,{exact:!0,path:"/favorites",component:L}),Object(u.jsx)(h.a,{to:"/"})]})})};var z=function(){return Object(u.jsxs)(a.a.Fragment,{children:[Object(u.jsx)(f,{}),Object(u.jsx)(K,{})]})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))},U=(n(70),n(73),n(13)),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S("favorites"),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FAVORITE":return[].concat(Object(E.a)(e),[t.payload.city]);case"REMOVE_FAVORITE":return Object(E.a)(e.filter((function(e){return e.Key!==t.payload.key})));default:return e}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CITY":return t.payload.city;default:return e}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Metric",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_UNITS":return t.payload.units;default:return e}},J=Object(U.b)({favorites:P,selectedCity:W,units:H}),X=Object(U.c)(J,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(Object(u.jsx)(o.a,{children:Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(s.a,{store:X,children:Object(u.jsx)(z,{})})})}),document.getElementById("root")),R()}},[[74,1,2]]]);
//# sourceMappingURL=main.55737b33.chunk.js.map