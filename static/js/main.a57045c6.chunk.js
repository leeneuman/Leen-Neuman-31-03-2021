(this["webpackJsonpherolo-weather"]=this["webpackJsonpherolo-weather"]||[]).push([[0],{42:function(e,t,n){},43:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(19),i=n.n(r),s=(n(42),n(43),n(12)),o=n(1);var u=function(){return Object(o.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(o.jsx)(s.b,{className:"navbar-brand",to:"/",children:"Herolo Weather"}),Object(o.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(o.jsx)("span",{className:"navbar-toggler-icon"})}),Object(o.jsxs)("div",{className:"collapse navbar-collapse justify-content-end",id:"navbarNav",children:[Object(o.jsx)(s.c,{exact:!0,to:"/",className:"nav-link text-white",activeStyle:{fontWeight:"bold"},children:"Home"}),Object(o.jsx)(s.c,{exact:!0,to:"/favorites",className:"nav-link text-white",activeStyle:{fontWeight:"bold"},children:"Favorites"})]})]})},l=n(3),f=n(4),j=n.n(f),d=n(11),b=n(13),h=n(5),p=function(e){return{type:"UPDATE_CITY",payload:{city:e}}},x=n(22),O=n.n(x),v="https://dataservice.accuweather.com",m="\t71dkrhjDoZ0axL20sdjoCwEwC5H4668p",y=function(e){return O.a.get("".concat(v,"/locations/v1/cities/autocomplete?apikey=").concat(m,"&q=").concat(e),{headers:{Accept:"application/json"}})},g=function(e){return O.a.get("".concat(v,"/currentconditions/v1/").concat(e,"?apikey=").concat(m),{headers:{Accept:"application/json"}})};var w=function(){var e=Object(h.b)(),t=Object(c.useState)(""),n=Object(b.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)([]),s=Object(b.a)(i,2),u=s[0],l=s[1],f=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){a.length>0&&/^[A-Za-z -]*$/.test(a)&&f().then((function(e){return l(e.data)})).catch((function(e){return console.log(e)}))}),[a]),Object(o.jsxs)("div",{className:"w-50 position-relative",children:[Object(o.jsx)("input",{className:"SearchBar-input w-100 mt-5",type:"text",value:a,onChange:function(e){r(e.target.value)},placeholder:"Search for a city name...",title:"English characters only."}),a.length>0&&u.length>0&&Object(o.jsx)("div",{className:"position-absolute w-100 bg-white border",style:{zIndex:"1"},children:(u||[]).map((function(t){return Object(o.jsx)("div",{className:"p-1",style:{cursor:"pointer"},onClick:function(){return function(t){e(p(t)),l([])}(t)},children:t.LocalizedName},t.Key)}))})]})},N=n(16),E=function(e,t){window.localStorage.setItem(e,JSON.stringify(t))},T=function(e){return JSON.parse(window.localStorage.getItem(e))||[]};var k=function(e){var t=e.city,n=Object(h.b)(),a=Object(h.c)((function(e){return e.favorites})),r=Object(c.useState)([]),i=Object(b.a)(r,2),s=i[0],u=i[1],l=t.Key,f=a&&a.filter((function(e){return e.Key===l})).length>0,p=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(l);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){l&&p().then((function(e){return u(e.data[0])})).catch((function(e){return alert(e)}))}),[l]),l&&0!==s.length?Object(o.jsxs)("div",{className:"d-flex flex-column align-items-center p-4 w-100",children:[Object(o.jsxs)("div",{className:"d-flex flex-row justify-content-between w-100",children:[Object(o.jsxs)("div",{className:"d-flex flex-column",children:[Object(o.jsx)("h5",{children:t.LocalizedName}),Object(o.jsxs)("span",{children:[s.Temperature.Metric.Value," \u2103"]})]}),Object(o.jsxs)("div",{children:[f?Object(o.jsx)("i",{className:"fas fa-heart fa-lg p-2"}):Object(o.jsx)("i",{className:"far fa-heart fa-lg p-2"}),Object(o.jsx)("button",{className:"btn btn-light",onClick:f?function(){n({type:"REMOVE_FAVORITE",payload:{key:l}}),E("favorites",Object(N.a)(a.filter((function(e){return e.Key!==l}))))}:function(){n(function(e){return{type:"ADD_FAVORITE",payload:{city:e}}}(t)),E("favorites",[].concat(Object(N.a)(a),[t]))},children:f?"Remove from favorites":"Add to favorites"})]})]}),Object(o.jsx)("h3",{children:s.WeatherText})]}):null},S=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var _=function(e){var t=e.day,n=new Date(t.Date);return Object(o.jsxs)("div",{className:"d-flex flex-column align-items-center card p-4 mt-2",children:[Object(o.jsx)("h5",{children:S[n.getDay()]}),Object(o.jsxs)("span",{children:["Lo: ",t.Temperature.Minimum.Value,"\u2103"]}),Object(o.jsxs)("span",{children:["Hi: ",t.Temperature.Maximum.Value,"\u2103"]})]})};var D=function(e){var t=e.cityKey,n=Object(c.useState)([]),a=Object(b.a)(n,2),r=a[0],i=a[1],s=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n=t,O.a.get("".concat(v,"/forecasts/v1/daily/5day/").concat(n,"?apikey=").concat(m,"&metric=true"),{headers:{Accept:"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){t&&s().then((function(e){return i(e.data)})).catch((function(e){return alert(e)}))}),[t]),t&&0!==r.length?Object(o.jsx)("div",{className:"ForcastsContainer d-flex flex-row justify-content-between flex-wrap p-4 w-100",children:r.DailyForecasts.map((function(e){return Object(o.jsx)(_,{day:e},e.EpochDate)}))}):null};var C=function(e){var t=e.match,n=Object(h.b)(),a=Object(h.c)((function(e){return e.selectedCity})),r=a.Key,i=t.params.name,s=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("tel aviv");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){r||s().then((function(e){return n(p(e.data[0]))})).catch((function(e){return alert(e)}))}),[r]),Object(c.useEffect)((function(){i&&u().then((function(e){return n(p(e.data[0]))})).catch((function(e){return alert(e)}))}),[i]),Object(o.jsxs)("div",{className:"d-flex flex-column align-items-center p-4 mt-5 w-100 card",style:{background:"rgba(100, 100, 100, 0.1)"},children:[Object(o.jsx)(k,{city:a}),Object(o.jsx)(D,{cityKey:r})]})};var F=function(e){var t=e.match;return Object(o.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(o.jsx)(w,{}),Object(o.jsx)(C,{match:t})]})};var A=function(e){var t=e.city,n=t.Key,a=Object(c.useState)([]),r=Object(b.a)(a,2),i=r[0],u=r[1],l=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){n&&l().then((function(e){return u(e.data[0])})).catch((function(e){return alert(e)}))}),[n]),n&&0!==i.length?Object(o.jsxs)(s.b,{className:"d-flex flex-column align-items-center card p-4 mt-4 justify-content-between text-decoration-none text-reset text-center",style:{height:"200px",width:"200px"},to:"/city/".concat(t.LocalizedName),children:[Object(o.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(o.jsx)("h5",{children:t.LocalizedName}),Object(o.jsxs)("span",{children:[i.Temperature.Metric.Value,"\u2103"]})]}),Object(o.jsx)("h4",{children:i.WeatherText})]}):null};var I=function(){var e=Object(h.c)((function(e){return e.favorites}));return Object(o.jsx)("div",{className:"FavoritesContainer d-flex flex-row justify-content-between flex-wrap p-4 w-100",children:e.map((function(e){return Object(o.jsx)(A,{city:e},e.Key)}))})};var V=function(){return Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)(l.d,{children:[Object(o.jsx)(l.b,{exact:!0,path:"/",component:F}),Object(o.jsx)(l.b,{exact:!0,path:"/city/:name",component:F}),Object(o.jsx)(l.b,{exact:!0,path:"/favorites",component:I}),Object(o.jsx)(l.a,{to:"/"})]})})};var K=function(){return Object(o.jsxs)(a.a.Fragment,{children:[Object(o.jsx)(u,{}),Object(o.jsx)(V,{})]})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,74)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))},R=(n(69),n(72),n(15)),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T("favorites"),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FAVORITE":return[].concat(Object(N.a)(e),[t.payload.city]);case"REMOVE_FAVORITE":return Object(N.a)(e.filter((function(e){return e.Key!==t.payload.key})));default:return e}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CITY":return t.payload.city;default:return e}},W=Object(R.b)({favorites:M,selectedCity:z}),H=Object(R.c)(W,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(Object(o.jsx)(s.a,{children:Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(h.a,{store:H,children:Object(o.jsx)(K,{})})})}),document.getElementById("root")),L()}},[[73,1,2]]]);
//# sourceMappingURL=main.a57045c6.chunk.js.map